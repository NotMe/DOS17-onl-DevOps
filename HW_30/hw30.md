## 1

Установить приложение Clinic v1 в Google Cloud Platform согласно инструкции. Для хостинга БД использовать Google Cloud SQL поддержкой соединений только во внутренней сети (иными словами, БД будет доступна только по внутреннему/приватному IP). Сами сервисы установить на виртуальные машины Google Compute Engine (GCE) с ОС Debian 12. Проверить работоспособность приложения путём создания записи на приём к любому врачу.

```
# apt install mariadb-client
# mariadb --version
mariadb  Ver 15.1 Distrib 10.11.4-MariaDB, for debian-linux-gnu (x86_64) using  EditLine wrapper
# python3 --version
Python 3.11.2


# cat .initdb.d/clinic-portal.sql
...........
ALTER DATABASE clinic  CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci;

SOURCE /home/admin/.initdb.d/clinic-portal/dump.sql;

COMMIT;


# mysql -h clinic.cqxk4ugdigqk.eu-north-1.rds.amazonaws.com -u admin -p
Enter password:
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 1511
Server version: 10.11.5-MariaDB managed by https://aws.amazon.com/rds/

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]> source /home/admin/.initdb.d/clinic-portal.sql
...........
Query OK, 0 rows affected (0.001 sec)

MariaDB [clinic]> use clinic;
Database changed
MariaDB [clinic]> select * from Doctor;
+----+----------------+--------------------+------------+--------------------------------+---------------+-----------------------------+
| id | FirstName      | LastName           | BirthDate  | Address                        | Telephone     | Email                       |
+----+----------------+--------------------+------------+--------------------------------+---------------+-----------------------------+
|  1 | Андрей         | Быков              | 1966-06-22 | Тилимилитрямдия                | +37529XXXXXXX | andrey.bykov@clinic.com     |
|  2 | Иван           | Купитман           | 1963-03-13 | Тилимилитрямдия                | +37529XXXXXXX | ivan.kupitman@clinic.com    |
|  3 | Борис          | Левин              | 1986-01-15 | Тилимилитрямдия                | +37529XXXXXXX | dmitry.levin@clinic.com     |
|  4 | Варвара        | Черноус            | 1988-04-14 | Тилимилитрямдия                | +37529XXXXXXX | varvara.chernous@clinic.com |
|  5 | Глеб           | Романенко          | 1984-09-19 | Тилимилитрямдия                | +37529XXXXXXX | gleb.romanenko@clinic.com   |
|  6 | Семён          | Лобанов            | 1983-11-22 | Тилимилитрямдия                | +37529XXXXXXX | semen.lobanoff@clinic.com   |
+----+----------------+--------------------+------------+--------------------------------+---------------+-----------------------------+
6 rows in set (0.002 sec)
```
![plot](./pics/aws_instance.png)
![plot](./pics/aws_rds_instance.png)
![plot](./pics/aws_rds_sg.png)

```

# python3 -m venv .venv
# . .venv/bin/activate
# cat .env
ALLOWED_HOSTS=localhost
SECRET_KEY=django-insecure-w6rzzkjq-j&fxq^9)1c+nj#zp3lp$kh8&h4fkw9yue8c$ygbuy

DB_HOST=clinic.cqxk4ugdigqk.eu-north-1.rds.amazonaws.com
DB_NAME=clinic
DB_USER=admin
DB_PASSWORD=123qweASDZXC

# pip install -r requirements.txt

# python3 manage.py runserver 0.0.0.0:8000
```